(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-71d7a30e"],{8418:function(t,e,a){"use strict";var o=a("c04e"),n=a("9bf2"),s=a("5c6c");t.exports=function(t,e,a){var i=o(e);i in t?n.f(t,i,s(0,a)):t[i]=a}},"99af":function(t,e,a){"use strict";var o=a("23e7"),n=a("d039"),s=a("e8b5"),i=a("861d"),r=a("7b0b"),c=a("50c4"),u=a("8418"),l=a("65f0"),p=a("1dde"),d=a("b622"),m=a("2d00"),f=d("isConcatSpreadable"),h=9007199254740991,g="Maximum allowed index exceeded",v=m>=51||!n((function(){var t=[];return t[f]=!1,t.concat()[0]!==t})),x=p("concat"),w=function(t){if(!i(t))return!1;var e=t[f];return void 0!==e?!!e:s(t)},k=!v||!x;o({target:"Array",proto:!0,forced:k},{concat:function(t){var e,a,o,n,s,i=r(this),p=l(i,0),d=0;for(e=-1,o=arguments.length;e<o;e++)if(s=-1===e?i:arguments[e],w(s)){if(n=c(s.length),d+n>h)throw TypeError(g);for(a=0;a<n;a++,d++)a in s&&u(p,d,s[a])}else{if(d>=h)throw TypeError(g);u(p,d++,s)}return p.length=d,p}})},c4a1:function(t,e,a){"use strict";a.r(e);var o=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"container next",staticStyle:{"margin-top":"120px"}},[a("Loading",{attrs:{active:t.isLoading},on:{"update:active":function(e){t.isLoading=e}}}),a("div",{staticClass:"card"},[t._m(0),a("div",{staticClass:"card-body",staticStyle:{"margin-top":"20px"}},[a("form",{staticClass:"form-login",on:{submit:function(e){return e.preventDefault(),t.login(e)}}},[a("div",{staticClass:"input-group form-group"},[t._m(1),a("input",{directives:[{name:"model",rawName:"v-model",value:t.user.email,expression:"user.email"}],staticClass:"form-control",attrs:{type:"text",name:"email",placeholder:"Username",required:""},domProps:{value:t.user.email},on:{input:function(e){e.target.composing||t.$set(t.user,"email",e.target.value)}}})]),a("div",{staticClass:"input-group form-group"},[t._m(2),a("input",{directives:[{name:"model",rawName:"v-model",value:t.user.password,expression:"user.password"}],staticClass:"form-control",attrs:{type:"password",name:"password",placeholder:"Password"},domProps:{value:t.user.password},on:{input:function(e){e.target.composing||t.$set(t.user,"password",e.target.value)}}})]),a("div",{staticClass:"form-group mx-5"},[a("input",{staticClass:"btn btn-outline-danger float-right login_btn mx-2",attrs:{type:"button",name:"btn",value:"Login"},on:{click:t.login}}),a("input",{staticClass:"btn btn-outline-warning float-right login_btn mx-2",attrs:{type:"button",name:"btn",value:"Logout"},on:{click:t.logout}})])])])])],1)},n=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"mx-auto",staticStyle:{"margin-top":"40px"}},[a("h2",[t._v(" 請登入系統")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"input-group-prepend"},[a("span",{staticClass:"input-group-text"},[a("i",{staticClass:"fas fa-user"})])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"input-group-prepend"},[a("span",{staticClass:"input-group-text"},[a("i",{staticClass:"fas fa-key"})])])}],s=(a("99af"),a("ac1f"),a("5319"),{name:"Login",data:function(){return{user:{email:"",password:""},token:"",expired:"",isLoading:!1}},created:function(){var t=this;this.token=document.cookie.replace(/(?:(?:^|.*;\s*)BruceStoreT7_token\s*=\s*([^;]*).*$)|^.*$/,"$1");var e="".concat("https://course-ec-api.hexschool.io/api/","auth/check");this.$http.defaults.headers.common.Authorization="Bearer ".concat(this.token),this.$http.post(e,{api_token:this.token}).then((function(){t.$router.push("/admin/products")}))},methods:{login:function(){var t=this,e="".concat("https://course-ec-api.hexschool.io/api/","auth/login");this.isLoading=!0,this.$http.post(e,this.user).then((function(e){var a=e.data.token,o=e.data.expired;document.cookie="BruceStoreT7_token=".concat(a,"; expires=").concat(new Date(1e3*o),"; path=/"),t.$swal.fire({icon:"success",title:"".concat(t.user.email),text:"您好"}),t.isLoading=!1,t.$router.push("/admin/products")})).catch((function(e){t.$swal.fire({icon:"error",title:"Oops...",text:"很抱歉，您無法登入，錯誤代碼".concat(e.request.status)}),t.isLoading=!1}))},logout:function(){this.token=document.cookie.replace(/(?:(?:^|.*;\s*)BruceStoreT7_token\s*=\s*([^;]*).*$)|^.*$/,"$1"),document.cookie="BruceStoreT7_token= ; expires = Thu, 01 Jan 1970 00:00:00 GMT"}}}),i=s,r=a("2877"),c=Object(r["a"])(i,o,n,!1,null,null,null);e["default"]=c.exports}}]);
//# sourceMappingURL=chunk-71d7a30e.7cbe54a7.js.map