(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-ddc96b88"],{"495b":function(t,e,r){"use strict";r.d(e,"a",(function(){return a}));var i=r("2b0e"),a=new i["a"]},8418:function(t,e,r){"use strict";var i=r("c04e"),a=r("9bf2"),s=r("5c6c");t.exports=function(t,e,r){var o=i(e);o in t?a.f(t,o,s(0,r)):t[o]=r}},"99af":function(t,e,r){"use strict";var i=r("23e7"),a=r("d039"),s=r("e8b5"),o=r("861d"),n=r("7b0b"),c=r("50c4"),d=r("8418"),u=r("65f0"),l=r("1dde"),h=r("b622"),f=r("2d00"),p=h("isConcatSpreadable"),g=9007199254740991,v="Maximum allowed index exceeded",b=f>=51||!a((function(){var t=[];return t[p]=!1,t.concat()[0]!==t})),m=l("concat"),x=function(t){if(!o(t))return!1;var e=t[p];return void 0!==e?!!e:s(t)},C=!b||!m;i({target:"Array",proto:!0,forced:C},{concat:function(t){var e,r,i,a,s,o=n(this),l=u(o,0),h=0;for(e=-1,i=arguments.length;e<i;e++)if(s=-1===e?o:arguments[e],x(s)){if(a=c(s.length),h+a>g)throw TypeError(v);for(r=0;r<a;r++,h++)r in s&&d(l,h,s[r])}else{if(h>=g)throw TypeError(v);d(l,h++,s)}return l.length=h,l}})},a434:function(t,e,r){"use strict";var i=r("23e7"),a=r("23cb"),s=r("a691"),o=r("50c4"),n=r("7b0b"),c=r("65f0"),d=r("8418"),u=r("1dde"),l=r("ae40"),h=u("splice"),f=l("splice",{ACCESSORS:!0,0:0,1:2}),p=Math.max,g=Math.min,v=9007199254740991,b="Maximum allowed length exceeded";i({target:"Array",proto:!0,forced:!h||!f},{splice:function(t,e){var r,i,u,l,h,f,m=n(this),x=o(m.length),C=a(t,x),w=arguments.length;if(0===w?r=i=0:1===w?(r=0,i=x-C):(r=w-2,i=g(p(s(e),0),x-C)),x+r-i>v)throw TypeError(b);for(u=c(m,i),l=0;l<i;l++)h=C+l,h in m&&d(u,l,m[h]);if(u.length=i,r<i){for(l=C;l<x-i;l++)h=l+i,f=l+r,h in m?m[f]=m[h]:delete m[f];for(l=x;l>x-i+r;l--)delete m[l-1]}else if(r>i)for(l=x-i;l>C;l--)h=l+i-1,f=l+r-1,h in m?m[f]=m[h]:delete m[f];for(l=0;l<r;l++)m[l+C]=arguments[l+2];return m.length=x-i+r,u}})},c975:function(t,e,r){"use strict";var i=r("23e7"),a=r("4d64").indexOf,s=r("a640"),o=r("ae40"),n=[].indexOf,c=!!n&&1/[1].indexOf(1,-0)<0,d=s("indexOf"),u=o("indexOf",{ACCESSORS:!0,1:0});i({target:"Array",proto:!0,forced:c||!d||!u},{indexOf:function(t){return c?n.apply(this,arguments)||0:a(this,t,arguments.length>1?arguments[1]:void 0)}})},d31c:function(t,e,r){"use strict";r.r(e);var i=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[r("Loading",{attrs:{active:t.isLoading},on:{"update:active":function(e){t.isLoading=e}}}),t._m(0),r("div",{staticClass:"container mt-md-5 mt-3 mb-7"},[r("div",{staticClass:"row"},t._l(t.products,(function(e){return r("div",{key:e.id,staticClass:"col-lg-4 col-sm-6 mb-3 mb-4"},[r("div",{staticClass:"card h-100 rounded-0"},[r("router-link",{attrs:{to:"/Productsdetail/"+e.id}},[r("div",{staticClass:"rounded-0",staticStyle:{height:"300px","background-size":"cover","background-position":"center center"},style:{backgroundImage:"url("+e.imageUrl[0]+")"}})]),r("div",{staticClass:"position-absolute p-2 heart-icon bg-secondary"},[r("i",{staticClass:"fas fa-heart ",class:t.isTracer(e.id)?"text-danger":"text-white",attrs:{href:"#"},on:{click:function(r){return t.gotracer(e.id)}}})]),r("div",{staticClass:"card-body"},[r("span",{staticClass:"badge badge-secondary float-right ml-2"},[t._v(" "+t._s(e.category)+" ")]),r("a",{attrs:{href:"#"}},[r("h5",{staticClass:"card-title font-weight-bold text-brown"},[t._v(" "+t._s(e.title)+" ")])]),r("p",{staticClass:"card-text",domProps:{innerHTML:t._s(e.content)}}),r("div",{staticClass:"text-right pr-2 h6"},[t._v(" "+t._s(e.origin_price)+"元 "+t._s(e.price)+"元 ")])]),r("div",{staticClass:"card-footer d-flex border-top-0 bg-white"},[r("button",{staticClass:"btn btn-outline-brown btn-block rounded-0",attrs:{type:"button"},on:{click:function(r){return t.addtoCart(e,1)}}},[r("i",{staticClass:"fa fa-cart-plus",attrs:{"aria-hidden":"true"}}),t._v(" 加到購物車 ")])])],1)])})),0)])],1)},a=[function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("nav",{staticClass:"navbar navbar-expand-lg navbar-light\n    justify-content-center border border-left-0\n    border-right-0 border-top border-bottom"},[r("h2",[t._v("您喜愛的商品")])])}],s=(r("99af"),r("4160"),r("c975"),r("a434"),r("159b"),r("495b")),o={name:"LoveProducts",components:{},data:function(){return{pagination:{},rowproducts:[],products:[],isLoading:!1,uuid:"d952d084-2b40-40c3-9758-1aef7c7aa9e6",userEmail:"",CureSele:"*",dynamicPage:1e3,fixPage:1e3,carts:{},cartTotal:0,status:{loadingItem:""},tracerpro:[]}},created:function(){this.getProducts(),this.userSele(),this.getCart(),this.tracerpro=JSON.parse(localStorage.getItem("rototo"))},methods:{getProducts:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;this.isLoading=!0;var r="".concat("https://course-ec-api.hexschool.io/api/").concat(this.uuid,"/ec/products");this.$http.get(r,{params:{page:"".concat(e),paged:"".concat("*"===this.CureSele?this.fixPage:this.dynamicPage)}}).then((function(e){t.rowproducts=e.data.data,t.userSele(),t.pagination=e.data.meta.pagination,t.isLoading=!1})).catch((function(e){t.$swal.fire({icon:"error",title:"Oops1...",text:"錯誤代碼".concat(e.request.status)}),t.isLoading=!1}))},userSele:function(){var t=this;this.products.splice(0,this.products.length),this.rowproducts.forEach((function(e){t.isTracer(e.id)&&t.products.push(e)})),this.getCart()},addtoCart:function(t){var e=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;this.tempProduct=t,this.status.loadingItem=t.id;var i={product:t.id,quantity:r};this.isLoading=!0;var a="".concat("https://course-ec-api.hexschool.io/api/").concat(this.uuid,"/ec/shopping");this.$http.post(a,i).then((function(){e.isLoading=!1,e.status.loadingItem="",e.$swal.fire({icon:"sucess",title:"加入購物車..",text:"成功"}),e.getCart()})).catch((function(t){e.$swal.fire({icon:"error",title:"加入購物車..",text:"失敗,錯誤代碼".concat(t.request.status)}),e.isLoading=!1,e.status.loadingItem=""}))},getCart:function(){var t=this;this.isLoading=!0;var e="".concat("https://course-ec-api.hexschool.io/api/").concat(this.uuid,"/ec/shopping");this.$http.get(e).then((function(e){t.carts=e.data.data,t.isLoading=!1,s["a"].$emit("cartsQuantity",t.carts.length)})).catch((function(e){t.$swal.fire({icon:"error",title:"取得購物車內容失敗...",text:"錯誤代碼".concat(e.request.status)}),t.isLoading=!1}))},gotracer:function(t){if(null===this.tracerpro||this.tracerpro.length<0)this.tracerpro=[],this.tracerpro.push(t);else{var e=this.tracerpro.indexOf(t);e<0?this.tracerpro.push(t):this.tracerpro.splice(e,1),localStorage.setItem("rototo",JSON.stringify(this.tracerpro))}this.userSele()},isTracer:function(t){if(null===this.tracerpro||this.tracerpro.length<0)return!1;var e=this.tracerpro.indexOf(t);return e>=0}}},n=o,c=r("2877"),d=Object(c["a"])(n,i,a,!1,null,null,null);e["default"]=d.exports}}]);
//# sourceMappingURL=chunk-ddc96b88.25bebfd1.js.map