(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-6cc1e07a"],{"057f":function(t,e,s){var a=s("fc6a"),r=s("241c").f,i={}.toString,o="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],n=function(t){try{return r(t)}catch(e){return o.slice()}};t.exports.f=function(t){return o&&"[object Window]"==i.call(t)?n(t):r(a(t))}},5530:function(t,e,s){"use strict";s.d(e,"a",(function(){return i}));s("a4d3"),s("4de4"),s("4160"),s("e439"),s("dbb4"),s("b64b"),s("159b");function a(t,e,s){return e in t?Object.defineProperty(t,e,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[e]=s,t}function r(t,e){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),s.push.apply(s,a)}return s}function i(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{};e%2?r(Object(s),!0).forEach((function(e){a(t,e,s[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):r(Object(s)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(s,e))}))}return t}},"746f":function(t,e,s){var a=s("428f"),r=s("5135"),i=s("e538"),o=s("9bf2").f;t.exports=function(t){var e=a.Symbol||(a.Symbol={});r(e,t)||o(e,t,{value:i.f(t)})}},8418:function(t,e,s){"use strict";var a=s("c04e"),r=s("9bf2"),i=s("5c6c");t.exports=function(t,e,s){var o=a(e);o in t?r.f(t,o,i(0,s)):t[o]=s}},"99af":function(t,e,s){"use strict";var a=s("23e7"),r=s("d039"),i=s("e8b5"),o=s("861d"),n=s("7b0b"),c=s("50c4"),l=s("8418"),u=s("65f0"),d=s("1dde"),f=s("b622"),p=s("2d00"),v=f("isConcatSpreadable"),m=9007199254740991,h="Maximum allowed index exceeded",b=p>=51||!r((function(){var t=[];return t[v]=!1,t.concat()[0]!==t})),g=d("concat"),y=function(t){if(!o(t))return!1;var e=t[v];return void 0!==e?!!e:i(t)},C=!b||!g;a({target:"Array",proto:!0,forced:C},{concat:function(t){var e,s,a,r,i,o=n(this),d=u(o,0),f=0;for(e=-1,a=arguments.length;e<a;e++)if(i=-1===e?o:arguments[e],y(i)){if(r=c(i.length),f+r>m)throw TypeError(h);for(s=0;s<r;s++,f++)s in i&&l(d,f,i[s])}else{if(f>=m)throw TypeError(h);l(d,f++,i)}return d.length=f,d}})},a4d3:function(t,e,s){"use strict";var a=s("23e7"),r=s("da84"),i=s("d066"),o=s("c430"),n=s("83ab"),c=s("4930"),l=s("fdbf"),u=s("d039"),d=s("5135"),f=s("e8b5"),p=s("861d"),v=s("825a"),m=s("7b0b"),h=s("fc6a"),b=s("c04e"),g=s("5c6c"),y=s("7c73"),C=s("df75"),_=s("241c"),w=s("057f"),O=s("7418"),x=s("06cf"),j=s("9bf2"),D=s("d1e7"),S=s("9112"),I=s("6eeb"),P=s("5692"),N=s("f772"),$=s("d012"),T=s("90e3"),E=s("b622"),k=s("e538"),q=s("746f"),L=s("d44e"),V=s("69f3"),J=s("b727").forEach,A=N("hidden"),R="Symbol",U="prototype",F=E("toPrimitive"),W=V.set,G=V.getterFor(R),M=Object[U],Q=r.Symbol,z=i("JSON","stringify"),B=x.f,H=j.f,K=w.f,X=D.f,Y=P("symbols"),Z=P("op-symbols"),tt=P("string-to-symbol-registry"),et=P("symbol-to-string-registry"),st=P("wks"),at=r.QObject,rt=!at||!at[U]||!at[U].findChild,it=n&&u((function(){return 7!=y(H({},"a",{get:function(){return H(this,"a",{value:7}).a}})).a}))?function(t,e,s){var a=B(M,e);a&&delete M[e],H(t,e,s),a&&t!==M&&H(M,e,a)}:H,ot=function(t,e){var s=Y[t]=y(Q[U]);return W(s,{type:R,tag:t,description:e}),n||(s.description=e),s},nt=l?function(t){return"symbol"==typeof t}:function(t){return Object(t)instanceof Q},ct=function(t,e,s){t===M&&ct(Z,e,s),v(t);var a=b(e,!0);return v(s),d(Y,a)?(s.enumerable?(d(t,A)&&t[A][a]&&(t[A][a]=!1),s=y(s,{enumerable:g(0,!1)})):(d(t,A)||H(t,A,g(1,{})),t[A][a]=!0),it(t,a,s)):H(t,a,s)},lt=function(t,e){v(t);var s=h(e),a=C(s).concat(vt(s));return J(a,(function(e){n&&!dt.call(s,e)||ct(t,e,s[e])})),t},ut=function(t,e){return void 0===e?y(t):lt(y(t),e)},dt=function(t){var e=b(t,!0),s=X.call(this,e);return!(this===M&&d(Y,e)&&!d(Z,e))&&(!(s||!d(this,e)||!d(Y,e)||d(this,A)&&this[A][e])||s)},ft=function(t,e){var s=h(t),a=b(e,!0);if(s!==M||!d(Y,a)||d(Z,a)){var r=B(s,a);return!r||!d(Y,a)||d(s,A)&&s[A][a]||(r.enumerable=!0),r}},pt=function(t){var e=K(h(t)),s=[];return J(e,(function(t){d(Y,t)||d($,t)||s.push(t)})),s},vt=function(t){var e=t===M,s=K(e?Z:h(t)),a=[];return J(s,(function(t){!d(Y,t)||e&&!d(M,t)||a.push(Y[t])})),a};if(c||(Q=function(){if(this instanceof Q)throw TypeError("Symbol is not a constructor");var t=arguments.length&&void 0!==arguments[0]?String(arguments[0]):void 0,e=T(t),s=function(t){this===M&&s.call(Z,t),d(this,A)&&d(this[A],e)&&(this[A][e]=!1),it(this,e,g(1,t))};return n&&rt&&it(M,e,{configurable:!0,set:s}),ot(e,t)},I(Q[U],"toString",(function(){return G(this).tag})),I(Q,"withoutSetter",(function(t){return ot(T(t),t)})),D.f=dt,j.f=ct,x.f=ft,_.f=w.f=pt,O.f=vt,k.f=function(t){return ot(E(t),t)},n&&(H(Q[U],"description",{configurable:!0,get:function(){return G(this).description}}),o||I(M,"propertyIsEnumerable",dt,{unsafe:!0}))),a({global:!0,wrap:!0,forced:!c,sham:!c},{Symbol:Q}),J(C(st),(function(t){q(t)})),a({target:R,stat:!0,forced:!c},{for:function(t){var e=String(t);if(d(tt,e))return tt[e];var s=Q(e);return tt[e]=s,et[s]=e,s},keyFor:function(t){if(!nt(t))throw TypeError(t+" is not a symbol");if(d(et,t))return et[t]},useSetter:function(){rt=!0},useSimple:function(){rt=!1}}),a({target:"Object",stat:!0,forced:!c,sham:!n},{create:ut,defineProperty:ct,defineProperties:lt,getOwnPropertyDescriptor:ft}),a({target:"Object",stat:!0,forced:!c},{getOwnPropertyNames:pt,getOwnPropertySymbols:vt}),a({target:"Object",stat:!0,forced:u((function(){O.f(1)}))},{getOwnPropertySymbols:function(t){return O.f(m(t))}}),z){var mt=!c||u((function(){var t=Q();return"[null]"!=z([t])||"{}"!=z({a:t})||"{}"!=z(Object(t))}));a({target:"JSON",stat:!0,forced:mt},{stringify:function(t,e,s){var a,r=[t],i=1;while(arguments.length>i)r.push(arguments[i++]);if(a=e,(p(e)||void 0!==t)&&!nt(t))return f(e)||(e=function(t,e){if("function"==typeof a&&(e=a.call(this,t,e)),!nt(e))return e}),r[1]=e,z.apply(null,r)}})}Q[U][F]||S(Q[U],F,Q[U].valueOf),L(Q,R),$[A]=!0},cb0c:function(t,e,s){"use strict";s.r(e);var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"container"},[s("div",{staticClass:"bg-light pt-5 pb-7"},[s("div",{staticClass:"container"},[s("div",{staticClass:"row justify-content-center flex-md-row flex-column-reverse"},[s("div",{staticClass:"col-md-6"},[s("div",{staticClass:"bg-white p-4"},[s("h4",{staticClass:"font-weight-bold"},[t._v("貨品寄送資料")]),s("form",{on:{submit:function(e){return e.preventDefault(),t.createOrder(e)}}},[s("div",{staticClass:"form-group"},[s("validation-provider",{attrs:{name:"收件人姓名",rules:"required|min:2"},scopedSlots:t._u([{key:"default",fn:function(e){var a=e.errors,r=e.passValid;return[s("div",{staticClass:"container"},[s("div",{staticClass:"row justify-content-md-left"},[s("div",{staticClass:"col-3"},[s("label",{staticClass:"my-2",attrs:{for:"username"}},[t._v("收件人姓名")])]),s("div",{staticClass:"col-9"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.DeliveryInf.name,expression:"DeliveryInf.name"}],staticClass:"form-control",class:r,attrs:{id:"username",type:"text"},domProps:{value:t.DeliveryInf.name},on:{input:function(e){e.target.composing||t.$set(t.DeliveryInf,"name",e.target.value)}}})])]),s("div",{staticClass:"row justify-content-md-center"},[s("div",{staticClass:"col-12"},[s("strong",[t._v(t._s(a[0])+" ")])])])])]}}])})],1),s("div",{staticClass:"form-group"},[s("validation-provider",{attrs:{name:"收件人電子郵件",rules:"required|email"},scopedSlots:t._u([{key:"default",fn:function(e){var a=e.errors,r=e.passValid;return[s("div",{staticClass:"container"},[s("div",{staticClass:"row justify-content-md-left"},[s("div",{staticClass:"col-3"},[s("label",{staticClass:"my-2",attrs:{for:"Email"}},[t._v("Email")])]),s("div",{staticClass:"col-9"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.DeliveryInf.email,expression:"DeliveryInf.email"}],staticClass:"form-control ",class:r,attrs:{id:"email",type:"email"},domProps:{value:t.DeliveryInf.email},on:{input:function(e){e.target.composing||t.$set(t.DeliveryInf,"email",e.target.value)}}})])]),s("div",{staticClass:"row justify-content-md-center"},[s("div",{staticClass:"col-12"},[s("strong",[t._v(t._s(a[0])+" ")])])])])]}}])})],1),s("div",{staticClass:"form-group"},[s("validation-provider",{attrs:{name:"收件人電話",rules:"required|min:8"},scopedSlots:t._u([{key:"default",fn:function(e){var a=e.errors,r=e.passValid;return[s("div",{staticClass:"container"},[s("div",{staticClass:"row justify-content-md-left"},[s("div",{staticClass:"col-3"},[s("label",{staticClass:"my-2",attrs:{for:"tel"}},[t._v("電話")])]),s("div",{staticClass:"col-9"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.DeliveryInf.tel,expression:"DeliveryInf.tel"}],staticClass:"form-control",class:r,attrs:{id:"tel",type:"text"},domProps:{value:t.DeliveryInf.tel},on:{input:function(e){e.target.composing||t.$set(t.DeliveryInf,"tel",e.target.value)}}})])]),s("div",{staticClass:"row justify-content-md-center"},[s("div",{staticClass:"col-12"},[s("strong",[t._v(t._s(a[0])+" ")])])])])]}}])})],1),s("div",{staticClass:"form-group"},[s("validation-provider",{attrs:{name:"收件地址",rules:"required"},scopedSlots:t._u([{key:"default",fn:function(e){var a=e.errors,r=e.passValid;return[s("div",{staticClass:"container"},[s("div",{staticClass:"row justify-content-md-left"},[s("div",{staticClass:"col-3"},[s("label",{staticClass:"my-2",attrs:{for:"address"}},[t._v("收件地址")])]),s("div",{staticClass:"col-9"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.DeliveryInf.address,expression:"DeliveryInf.address"}],staticClass:"form-control",class:r,attrs:{id:"address",type:"text"},domProps:{value:t.DeliveryInf.address},on:{input:function(e){e.target.composing||t.$set(t.DeliveryInf,"address",e.target.value)}}})])]),s("div",{staticClass:"row justify-content-md-center"},[s("div",{staticClass:"col-12"},[s("strong",[t._v(t._s(a[0])+" ")])])])])]}}])})],1),s("div",{staticClass:"form-group"},[s("validation-provider",{attrs:{name:"付款方式",rules:"required"},scopedSlots:t._u([{key:"default",fn:function(e){var a=e.errors,r=e.passValid;return[s("div",{staticClass:"container"},[s("div",{staticClass:"row justify-content-md-left"},[s("div",{staticClass:"col-3"},[s("label",{staticClass:"my-2",attrs:{for:"pay"}},[t._v("付款方式")])]),s("div",{staticClass:"col-9 "},[s("select",{directives:[{name:"model",rawName:"v-model",value:t.DeliveryInf.payment,expression:"DeliveryInf.payment"}],staticClass:"form-control",class:r,on:{change:function(e){var s=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.DeliveryInf,"payment",e.target.multiple?s:s[0])}}},[s("option",{attrs:{value:"",disabled:""}},[t._v(" 請選擇付款方式 ")]),s("option",{attrs:{value:"Credit"}},[t._v(" 信用卡 ")]),s("option",{attrs:{value:"ApplePay"}},[t._v(" 頻果支付 ")]),s("option",{attrs:{value:"GooglePay"}},[t._v(" 谷哥支付 ")])])])]),s("div",{staticClass:"row justify-content-md-center"},[s("div",{staticClass:"col-12"},[s("strong",[t._v(t._s(a[0])+" ")])])])])]}}])})],1),s("div",{staticClass:"form-group"},[s("div",{staticClass:"container"},[s("div",{staticClass:"row justify-content-md-right"},[t._m(0),s("div",{staticClass:"col-9"},[s("textarea",{directives:[{name:"model",rawName:"v-model",value:t.DeliveryInf.message,expression:"DeliveryInf.message"}],staticClass:"form-control",attrs:{id:"message",cols:"30",rows:"3"},domProps:{value:t.DeliveryInf.message},on:{input:function(e){e.target.composing||t.$set(t.DeliveryInf,"message",e.target.value)}}})])])])]),s("div",{staticClass:"form-group"},[s("div",{staticClass:"container "},[s("div",{staticClass:"row justify-content-md-right"},[t._m(1),s("div",{staticClass:"col-9"},[s("button",{staticClass:"btn btn-primary ml-4",attrs:{type:"submit",disabled:t.invalid}},[t._v(" 送出訂單 ")])])])])])])])]),s("div",{staticClass:"col-md-4"},[s("div",{staticClass:"border p-4 mb-4"},[s("h4",{staticClass:"mb-4"},[t._v("Order Detail ")]),t._l(t.carts,(function(e,a){return s("div",{key:e.id,staticClass:"d-flex",class:a>0?"mt-2":""},[s("img",{staticClass:"mr-2",staticStyle:{width:"48px",height:"48px","object-fit":"cover"},attrs:{src:e.product.imageUrl[0],alt:"產品圖片"}}),s("div",{staticClass:"w-100"},[s("div",{staticClass:"d-flex justify-content-between font-weight-bold"},[s("p",{staticClass:"mb-0"},[t._v(t._s(e.product.title))]),s("p",{staticClass:"mb-0"},[t._v("x "+t._s(e.quantity))])]),s("div",{staticClass:"d-flex justify-content-between"},[s("p",{staticClass:"text-muted mb-0"},[s("small",[t._v("NT$"+t._s(e.product.price))])]),s("p",{staticClass:"mb-0"},[t._v("NT$"+t._s(e.product.price*e.quantity))])])])])})),s("table",{staticClass:"table mt-4 border-top border-bottom text-muted"},[s("tbody",[s("tr",[s("th",{staticClass:"border-0 px-0 pt-4 font-weight-normal",attrs:{scope:"row"}},[t._v("Subtotal")]),s("td",{staticClass:"text-right border-0 px-0 pt-4"},[t._v("NT$"+t._s(this.cartTotal))])]),this.coupon_Enable?s("tr",[s("th",{staticClass:"border-0 px-0 pt-2 pb-2\n                  font-weight-normal",attrs:{scope:"row"}},[t._v("discount")]),s("td",{staticClass:"text-right border-0 px-0 pt-2 pb-2"},[t._v(" NT$"+t._s(this.coupon_discountValue)+" ")])]):t._e(),s("tr",[s("th",{staticClass:"border-0 px-0 pt-2 pb-2\n                  font-weight-normal",attrs:{scope:"row"}},[t._v("Payment")]),s("td",{staticClass:"text-right border-0 px-0 pt-2 pb-4"},[t._v(" NT$"+t._s(this.cartTotal-this.coupon_discountValue)+" ")])])])]),s("div",{staticClass:"d-flex justify-content-between mt-4"},[s("p",{staticClass:"mb-0 h4 font-weight-bold"},[t._v("Total")]),s("p",{staticClass:"mb-0 h4 font-weight-bold"},[t._v(" NT$"+t._s(this.cartTotal-this.coupon_discountValue))])])],2)])])])])])},r=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"col-3"},[s("label",{staticClass:"my-2",attrs:{for:"message"}},[t._v("留言")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"col-3"},[s("a",{staticClass:"text-primary",attrs:{href:"./product.html"}},[s("i",{staticClass:"fas fa-chevron-left mr-2 text-primary"}),t._v(" 回產品頁 ")])])}],i=(s("99af"),s("4160"),s("159b"),s("5530")),o={name:"CheckOut",components:{},data:function(){return{isNew:!1,isLoading:!1,products:{},carts:{},cartTotal:0,uuid:"d952d084-2b40-40c3-9758-1aef7c7aa9e6",xerror:"NO_ERROR",tempProduct:{},coupon_Enable:!1,coupon_discountValue:0,coupon:{},coupon_code:"",coupon_log:"",status:{loadingItem:""},DeliveryInf:{name:"",email:"",tel:"",address:"",payment:"",message:""}}},created:function(){this.getCart(),this.coupon_log=JSON.parse(localStorage.getItem("rototoCoupon")),null===this.coupon_log&&(this.coupon_log=""),this.coupon_log.length>0&&(this.coupon_code=this.coupon_log),this.CheckCoupon()},methods:{getCart:function(){var t=this;this.isLoading=!0;var e="".concat("https://course-ec-api.hexschool.io/api/").concat(this.uuid,"/ec/shopping");this.$http.get(e).then((function(e){t.carts=e.data.data,t.isLoading=!1,t.cartTotal=0,t.carts.forEach((function(e){console.log(t.cartTotal),t.cartTotal+=e.product.price*e.quantity})),console.log(t.cartTotal)})).catch((function(e){t.$swal.fire({icon:"error",title:"取得購物車內容失敗...",text:"錯誤代碼".concat(e.request.status)}),t.isLoading=!1}))},CheckCoupon:function(){var t=this;this.isLoading=!0;var e="".concat("https://course-ec-api.hexschool.io/api/").concat(this.uuid,"/ec/coupon/search");this.$http.post(e,{code:this.coupon_code}).then((function(e){t.isLoading=!1,t.coupon=e.data.data,t.coupon_Enable=!0,t.coupon_discountValue=t.cartTotal*(t.coupon.percent/100)}))},quantityUpdata:function(t,e){var s=this;if(console.log("id ".concat(t," and num ").concat(e)),!(e<=0)){var a={product:t,quantity:e};this.isLoading=!0;var r="".concat("https://course-ec-api.hexschool.io/api/").concat(this.uuid,"/ec/shopping");this.$http.patch(r,a).then((function(){s.isLoading=!1,s.curNum=e,console.log("quantityUpdata DOWN"),s.getCart()}))}},createOrder:function(){var t=this;this.isLoading=!0;var e="".concat("https://course-ec-api.hexschool.io/api/").concat(this.uuid,"/ec/orders"),s=Object(i["a"])({},this.DeliveryInf);this.coupon.enabled&&(s.coupon=this.coupon.code),this.$http.post(e,s).then((function(){t.$swal.fire({icon:"sucess",title:"訂單建立",text:"成功"}),localStorage.setItem("rototoCoupon",JSON.stringify("")),t.coupon_log="",t.coupon_code="",t.$router.push("/Checkoutsuccess")})).catch((function(e){t.$swal.fire({icon:"error",title:"建立訂單失敗...",text:"錯誤代碼".concat(e.request.status)})})),this.isLoading=!1}}},n=o,c=s("2877"),l=Object(c["a"])(n,a,r,!1,null,null,null);e["default"]=l.exports},dbb4:function(t,e,s){var a=s("23e7"),r=s("83ab"),i=s("56ef"),o=s("fc6a"),n=s("06cf"),c=s("8418");a({target:"Object",stat:!0,sham:!r},{getOwnPropertyDescriptors:function(t){var e,s,a=o(t),r=n.f,l=i(a),u={},d=0;while(l.length>d)s=r(a,e=l[d++]),void 0!==s&&c(u,e,s);return u}})},e439:function(t,e,s){var a=s("23e7"),r=s("d039"),i=s("fc6a"),o=s("06cf").f,n=s("83ab"),c=r((function(){o(1)})),l=!n||c;a({target:"Object",stat:!0,forced:l,sham:!n},{getOwnPropertyDescriptor:function(t,e){return o(i(t),e)}})},e538:function(t,e,s){var a=s("b622");e.f=a}}]);
//# sourceMappingURL=chunk-6cc1e07a.8246d1b1.js.map